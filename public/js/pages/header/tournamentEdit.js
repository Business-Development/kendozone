!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=!1,o=!1,i=0,n=2e3,r=0,s=["webkit","ms","moz","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in s){var d=s[c];a||(a=window[d+"RequestAnimationFrame"]),l||(l=window[d+"CancelAnimationFrame"]||window[d+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,h={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},p=!1,m=function(){if(p)return p;var e=document.createElement("DIV"),t=e.style,o=navigator.userAgent,i=navigator.platform,n={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};n.isopera="opera"in window,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),n.isie="all"in document&&"attachEvent"in e&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in t),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||7==document.documentMode),n.isie8=n.isie&&"documentMode"in document&&8==document.documentMode,n.isie9=n.isie&&"performance"in window&&9<=document.documentMode,n.isie10=n.isie&&"performance"in window&&10==document.documentMode,n.isie11="msRequestFullscreen"in e&&11<=document.documentMode,n.isie9mobile=/iemobile.9/i.test(o),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(o),n.ismozilla="MozAppearance"in t,n.iswebkit="WebkitAppearance"in t,n.ischrome="chrome"in window,n.ischrome22=n.ischrome&&n.haspointerlock,n.ischrome26=n.ischrome&&"transition"in t,n.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,n.hasmstouch=window.MSPointerEvent||!1,n.hasw3ctouch=window.PointerEvent||!1,n.ismac=/^mac$/i.test(i),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(i),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in document,n.isandroid=/android/i.test(o),n.haseventlistener="addEventListener"in e,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(o=0;o<i.length;o++)if("undefined"!=typeof t[i[o]]){n.trstyle=i[o];break}n.hastransform=!!n.trstyle,n.hastransform&&(t[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(t[n.trstyle])),n.transitionstyle=!1,n.prefixstyle="",n.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),r=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),s="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in t){n.transitionstyle=i[o],n.prefixstyle=r[o],n.transitionend=s[o];break}n.ischrome26&&(n.prefixstyle=r[1]),n.hastransition=n.transitionstyle;e:{for(o=["-webkit-grab","-moz-grab","grab"],(n.ischrome&&!n.ischrome22||n.isie)&&(o=[]),i=0;i<o.length;i++)if(r=o[i],t.cursor=r,t.cursor==r){t=r;break e}t="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}return n.cursorgrabvalue=t,n.hasmousecapture="setCapture"in e,n.hasMutationObserver=!1!==u,p=n},f=function(s,c){function d(){var e=y.doc.css(x.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function p(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function f(e,t,o){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=M[t]||0,o=3==e?o?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),o?e:0):e}function v(e,t,o,i){y._bind(e,t,function(i){i=i?i:window.event;var n={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(n.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(n.deltaX=-.025*i.wheelDeltaX)):n.deltaY=i.detail,o.call(e,n)},i)}function b(e,t,o){var i,n;if(0==e.deltaMode?(i=-Math.floor(y.opt.mousescrollstep/54*e.deltaX),n=-Math.floor(y.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(i=-Math.floor(e.deltaX*y.opt.mousescrollstep),n=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&y.opt.oneaxismousemode&&0==i&&n&&(i=n,n=0,o&&(0>i?y.getScrollLeft()>=y.page.maxw:0>=y.getScrollLeft())&&(n=i,i=0)),i&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=i,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},15)),n){if(y.opt.nativeparentscrolling&&o&&!y.ispage&&!y.zoomactive)if(0>n){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=n,y.debounced("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.6.0",this.name="nicescroll",this.me=c,this.opt={doc:e("body"),win:!1},e.extend(this.opt,h),this.opt.snapbackspeed=80,s)for(var w in y.opt)"undefined"!=typeof s[w]&&(y.opt[w]=s[w]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+n++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=m();var x=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=x.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.hasreversehr=this.isrtlmode&&!x.iswebkit,this.istouchcapable=!1,!x.cantouch||x.isios||x.isandroid||!x.iswebkit&&!x.ismozilla||(this.istouchcapable=!0,x.cantouch=!1),y.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.debounced=function(e,t,o){var i=y.delaylist[e];y.delaylist[e]=t,i||setTimeout(function(){if(y){var t=y.delaylist[e];y.delaylist[e]=!1,t.call(y)}},o)};var k=!1;this.synched=function(e,t){return y.synclist[e]=t,function(){k||(a(function(){k=!1;for(var e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}),k=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var o in t)y.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return"undefined"==typeof e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?y.getScrollLeft():y.setScrollLeft(e)};var S=function(e,t,o,i,n,r,s){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(S.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){if(e=d())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=d())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)};var T=this.isrtlmode?1:-1;x.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*T+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*T+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return y.docscroll.scrollTop(e)},this.getScrollLeft=function(){return y.detected.ismozilla&&y.isrtlmode?Math.abs(y.docscroll.scrollLeft()):y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return y.docscroll.scrollLeft(y.detected.ismozilla&&y.isrtlmode?-e:e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var M={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var e=y.win.offset(),t=y.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}return e=y.win.offset(),y.viewport?(t=y.viewport.offset(),{top:e.top-t.top,left:e.left-t.left}):e},this.updateScrollBar=function(e){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var t=y.getOffset(),o=t.top,i=t.left-(y.opt.railpadding.left+y.opt.railpadding.right),o=o+f(y.win,"border-top-width",!0),i=i+(y.rail.align?y.win.outerWidth()-f(y.win,"border-right-width")-y.rail.width:f(y.win,"border-left-width")),n=y.opt.railoffset;n&&(n.top&&(o+=n.top),y.rail.align&&n.left&&(i+=n.left)),y.railslocked||y.rail.css({top:o,left:i,height:(e?e.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:o+1,left:1==y.rail.align?i-20:i+y.rail.width+4}),y.railh&&!y.railslocked&&(o=t.top,i=t.left,(n=y.opt.railhoffset)&&(n.top&&(o+=n.top),n.left&&(i+=n.left)),e=y.railh.align?o+f(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:o+f(y.win,"border-top-width",!0),i+=f(y.win,"border-left-width"),y.railh.css({top:e-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:i,width:y.railh.width}))}},this.doRailClick=function(e,t,o){var i;y.railslocked||(y.cancelEvent(e),t?(t=o?y.doScrollLeft:y.doScrollTop,i=o?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,t(i)):(t=o?y.doScrollLeftBy:y.doScrollBy,i=o?y.scroll.x:y.scroll.y,e=o?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,o=o?y.view.w:y.view.h,t(i>=e?o:-o)))},y.hasanimationframe=a,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(a=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(y.saved.css=[],x.isie7mobile||x.isoperamini)return!0;if(x.hasmstouch&&y.css(y.ispage?e("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:p()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>r&&(r=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var n=y.docscroll;y.ispage&&(n=y.haswrapper?y.win:y.doc),x.isie9mobile||y.css(n,{"overflow-y":"hidden"}),y.ispage&&x.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),{"overflow-y":"hidden"})),!x.isios||y.ispage||y.haswrapper||y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var s=e(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),s.addClass("nicescroll-cursors"),y.cursor=s;var a=e(document.createElement("div"));a.attr("id",y.id),a.addClass("nicescroll-rails nicescroll-rails-vr");var l,c,d,h=["left","right","top","bottom"];for(d in h)c=h[d],(l=y.opt.railpadding[c])?a.css("padding-"+c,l+"px"):y.opt.railpadding[c]=0;a.append(s),a.width=Math.max(parseFloat(y.opt.cursorwidth),s.outerWidth()),a.css({width:a.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==y.opt.railalign?0:1,y.rail=a,s=y.rail.drag=!1,!y.opt.boxzoom||y.ispage||x.isieold||(s=document.createElement("div"),y.bind(s,"click",y.doZoom),y.bind(s,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(s,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=e(s),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),x.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var m;if(y.opt.horizrailenabled&&(y.css(n,{"overflow-x":"hidden"}),s=e(document.createElement("div")),s.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),x.isieold&&s.css({overflow:"hidden"}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),s.addClass("nicescroll-cursors"),y.cursorh=s,m=e(document.createElement("div")),m.attr("id",y.id+"-hr"),m.addClass("nicescroll-rails nicescroll-rails-hr"),m.height=Math.max(parseFloat(y.opt.cursorwidth),s.outerHeight()),m.css({height:m.height+"px",zIndex:y.zindex,background:y.opt.background}),m.append(s),m.visibility=!0,m.scrollable=!0,m.align="top"==y.opt.railvalign?0:1,y.railh=m,y.railh.drag=!1),y.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),y.body.append(a),y.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),y.body.append(m))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),n="HTML"==y.win[0].nodeName?y.body:y.win,e(n).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),n.append(y.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),n.append(a),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),n.append(m))):(y.isfixed="fixed"==y.win.css("position"),n=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),a.css({position:n}),y.zoom&&y.zoom.css({position:n}),y.updateScrollBar(),y.body.append(a),y.zoom&&y.body.append(y.zoom),y.railh&&(m.css({position:n}),y.body.append(m))),x.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),x.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),x.isie9mobile)y.scrollmom=new g(y),y.onmangotouch=function(){var e=y.getScrollTop(),t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var o=e-y.mangotouch.sy,i=t-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))){var n=0>o?-1:1,r=0>i?-1:1,s=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<s-y.mangotouch.tm||y.mangotouch.dry!=n||y.mangotouch.drx!=r?(y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=n,y.mangotouch.drx=r,y.mangotouch.tm=s):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-i,y.mangotouch.sy-o),y.mangotouch.tm=s,o=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t)),y.mangotouch.ly=e,y.mangotouch.lx=t,o>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},a=y.getScrollTop(),m=y.getScrollLeft(),y.mangotouch={sy:a,ly:a,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(x.cantouch||y.istouchcapable||y.opt.touchbehavior||x.hasmstouch){y.scrollmom=new g(y),y.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var o;if(x.hasmstouch)for(o=t.target?t.target:!1;o;){var i=e(o).getNiceScroll();if(0<i.length&&i[0].me==y.me)break;if(0<i.length)return!1;if("DIV"==o.nodeName&&o.id==y.id)break;o=o.parentNode?o.parentNode:!1}if(y.cancelScroll(),(o=y.getTarget(t))&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return y.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i=e(window).width(),n=e(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(0,s-n),i=Math.max(0,r-i);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?n>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&i>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&x.isie&&(i=y.win.position(),y.rail.drag.x+=i.left,y.rail.drag.y+=i.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(t.clientX,t.clientY),!x.cantouch&&!this.istouchcapable&&!t.pointerType){if(!o||!/INPUT|SELECT|TEXTAREA/i.test(o.nodeName))return!y.ispage&&x.hasmousecapture&&o.setCapture(),y.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){return y.hasmoving?!1:void o._onclick.call(this,e)}),y.cancelEvent(t)):y.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(o).attr("type"))&&(pc={tg:o,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmouseup(e)};var f=y.opt.touchbehavior&&y.isiframe&&!x.hasmousecapture;y.ontouchmove=function(t,o){if(!y.rail.drag||t.targetTouches&&y.opt.preventmultitouchscrolling&&1<t.targetTouches.length||t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(2==y.rail.drag.pt){if(x.cantouch&&x.isios&&"undefined"==typeof t.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen){var i=t;t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY}var n,i=n=0;f&&!o&&(n=y.win.position(),i=-n.left,n=-n.top);var r=t.clientY+n;n=r-y.rail.drag.y;var s=t.clientX+i,a=s-y.rail.drag.x,l=y.rail.drag.st-n;y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(r=l=0),l>y.page.maxh&&(l=y.page.maxh,r=0));var c;if(y.railh&&y.railh.scrollable&&(c=y.isrtlmode?a-y.rail.drag.sl:y.rail.drag.sl-a,y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(s=c=0),c>y.page.maxw&&(c=y.page.maxw,s=0))),i=!1,y.rail.drag.dl)i=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{n=Math.abs(n);var a=Math.abs(a),d=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(n>d&&.3*n>=a)return y.rail.drag=!1,!0;a>d&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(a>d&&.3*a>=n)return y.rail.drag=!1,!0;n>d&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(s,r),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&y.istouchcapable&&(i=!1),i)return y.cancelEvent(t)}else if(1==y.rail.drag.pt)return y.onmousemove(t)}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var o=y.getTarget(e);return!y.ispage&&x.hasmousecapture&&o.setCapture(),y.isiframe&&!x.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(e)}},y.onmouseup=function(e){return y.rail.drag?1!=y.rail.drag.pt?!0:(x.hasmousecapture&&document.releaseCapture(),y.isiframe&&!x.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(e)):void 0},y.onmousemove=function(e){if(y.rail.drag&&1==y.rail.drag.pt){if(x.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),t=y.scrollvaluemax,y.scroll.y>t&&(y.scroll.y=t);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}},x.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=x.isios?!1:function(e){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(e)):!0},y.opt.grabcursorenabled&&x.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:x.cursorgrabvalue}),y.css(y.rail,{cursor:x.cursorgrabvalue}));else{var v=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,e>0&&t>e&&(e=0),e>=t&&(e-=t),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(e)},250)}}x.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):x.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!x.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),x.cantouch||y.opt.touchbehavior?(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup))):(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(x.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),y.ispage||x.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){t=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){t=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){o=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){o=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(i){if(y.railslocked&&0==y.page.maxh)return!0;i=i?i:window.e;var n=y.getTarget(i);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!n.getAttribute("type")&&!n.type||!/submit|button|cancel/i.tp)||e(n).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!t||y.ispage&&!t&&!o){if(n=i.keyCode,y.railslocked&&27!=n)return y.cancelEvent(i);var r=i.ctrlKey||!1,s=i.shiftKey||!1,a=!1;switch(n){case 38:case 63233:y.doScrollBy(72),a=!0;break;case 40:case 63235:y.doScrollBy(-72),a=!0;break;case 37:case 63232:y.railh&&(r?y.doScrollLeft(0):y.doScrollLeftBy(72),a=!0);break;case 39:case 63234:y.railh&&(r?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),
a=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),a=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),a=!0;break;case 36:case 63273:y.railh&&r?y.doScrollPos(0,0):y.doScrollTo(0),a=!0;break;case 35:case 63275:y.railh&&r?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),a=!0;break;case 32:y.opt.spacebarenabled&&(s?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),a=!0);break;case 27:y.zoomactive&&(y.doZoom(),a=!0)}if(a)return y.cancelEvent(i)}},y.opt.enablekeyboard&&y.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(e){e.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(e){e.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"blur",function(e){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),x.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),a=parseFloat(y.win.css("width"))+1;y.win.css("width",a),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)},!1!==u&&(y.observerbody=new u(function(t){return t.forEach(function(t){return"attributes"==t.type?e("body").hasClass("modal-open")?y.hide():y.show():void 0}),document.body.scrollHeight!=y.page.maxh?y.lazyResize(30):void 0}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(!1!==u?(y.observer=new u(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new u(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(y&&e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),x.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(){y.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(o){y.iframexd=!0,t=!1}if(y.iframexd)return"console"in window&&void 0,!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(t),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!x.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);y.doc.height(i)}y.lazyResize(30),x.isie7&&y.css(e(y.iframe.html),{"overflow-y":"hidden"}),y.css(e(y.iframe.body),{"overflow-y":"hidden"}),x.isios&&y.haswrapper&&y.css(e(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(t,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(t,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(t,x.isopera?"keypress":"keydown",y.onkeypress),(x.cantouch||y.opt.touchbehavior)&&(y.bind(t,"mousedown",y.ontouchstart),y.bind(t,"mousemove",function(e){return y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&x.cursorgrabvalue&&y.css(e(t.body),{cursor:x.cursorgrabvalue})),y.bind(t,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(t,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(t,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){w.call(y.doc[0],!1)},500),y.bind(this.doc,"load",w)}},this.showCursor=function(e,t){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),"undefined"!=typeof t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var o=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:o+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:o}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(e){y.cursortimeout||!y.rail||!y.autohidedom||y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,t,o){y.showCursor(t,o),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var o=y.page.maxh,i=y.page.maxw,n=y.view.h,r=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==o&&y.page.maxw==i&&y.view.w==r&&y.view.h==n){if(y.ispage)return y;if(o=y.win.offset(),y.lastposition&&(i=y.lastposition,i.top==o.top&&i.left==o.left))return y;y.lastposition=o}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh.scrollable=!0),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h/y.page.h*y.view.h)),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w/y.page.w*y.view.w)),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,y.debounced("resize",y.resize,e),y},this.jqbind=function(t,o,i){y.events.push({e:t,n:o,f:i,q:!0}),e(t).bind(o,i)},this.bind=function(e,t,o,i){var n="jquery"in e?e[0]:e;"mousewheel"==t?window.addEventListener||"onwheel"in document?y._bind(n,"wheel",o,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(n,e,o,i||!1),"DOMMouseScroll"==e&&v(n,"MozMousePixelScroll",o,i||!1)):n.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&y._bind(n,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,o.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,o.call(this,t))},i||!1),y._bind(n,t,o,i||!1),x.cantouch&&"mouseup"==t&&y._bind(n,"touchcancel",o,i||!1)):y._bind(n,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1===o.call(n,e)||!1===i?y.cancelEvent(e):!0})},x.haseventlistener?(this._bind=function(e,t,o,i){y.events.push({e:e,n:t,f:o,b:i,q:!1}),e.addEventListener(t,o,i||!1)},this.cancelEvent=function(e){return e?(e=e.original?e.original:e,e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):!1},this.stopPropagation=function(e){return e?(e=e.original?e.original:e,e.stopPropagation(),!1):!1},this._unbind=function(e,t,o,i){e.removeEventListener(t,o,i)}):(this._bind=function(e,t,o,i){y.events.push({e:e,n:t,f:o,b:i,q:!1}),e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},this.cancelEvent=function(e){return(e=window.event||!1)?(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1):!1},this.stopPropagation=function(e){return(e=window.event||!1)?(e.cancelBubble=!0,!1):!1},this._unbind=function(e,t,o,i){e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),x.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),!1!==y.observerbody&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var t=0;t<y.saved.css.length;t++){var o=y.saved.css[t];o[0].css(o[1],"undefined"==typeof o[2]?"":o[2])}y.saved=!1,y.me.data("__nicescroll","");var i=e.nicescroll;i.each(function(e){if(this&&this.id===y.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var n in y)y[n]=null,delete y[n];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=e(t),o=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=e(t);if(/fixed|absolute/.test(o.css("position")))return o;var i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight||0<o.getNiceScroll().length)return o;t=t.parentNode?t.parentNode:!1}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft(),t=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}})}},this.onmousewheel=function(e){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(e):!0;var t=+new Date,o=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea?!0:((e=b(e,!1,o))&&(y.checkarea=0),e)}},this.onmousewheelhr=function(e){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,o=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea?!0:y.railslocked?y.cancelEvent(e):b(e,!0,o)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){var t=Math.round(10*y.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*y.opt.scrollspeed)),e>20?e:0},y.opt.smoothscroll?y.ishwscroll&&x.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(e,t){var o=t?e>20?e:0:y.getTransitionSpeed(e),i=o?x.prefixstyle+"transform "+o+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==i||(y.lasttransitionstyle=i,y.doc.css(x.transitionstyle,i)),o},this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=y.getScrollTop(),n=y.getScrollLeft();return(0>(y.newscrolly-i)*(t-i)||0>(y.newscrollx-n)*(e-n))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),y.scrollrunning&&e==y.newscrollx&&t==y.newscrolly?!1:(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=o||!1,y.timer?!1:void(y.timer=setTimeout(function(){var o,i,n=y.getScrollTop(),r=y.getScrollLeft();o=e-r,i=t-n,o=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2))),o=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(o),y.newscrollspeed&&1>=y.newscrollspeed&&(o*=y.newscrollspeed),y.prepareTransition(o,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),o>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:o}),x.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,x.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,o)),y.timerscroll={bz:new S(n,y.newscrolly,o,0,0,.58,1),bh:new S(r,y.newscrollx,o,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],x.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],x.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){function i(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,u=1-u)return y.timer=a(i)||1;var e,t,o=0,n=t=y.getScrollTop();y.dst.ay?(n=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,e=n-t,(0>e&&n<y.newscrolly||e>0&&n>y.newscrolly)&&(n=y.newscrolly),y.setScrollTop(n),n==y.newscrolly&&(o=1)):o=1,t=e=y.getScrollLeft(),y.dst.ax?(t=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,e=t-e,(0>e&&t<y.newscrollx||e>0&&t>y.newscrollx)&&(t=y.newscrollx),y.setScrollLeft(t),t==y.newscrollx&&(o+=1)):o+=1,2==o?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>n?n=0:n>y.page.maxh&&(n=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),t!=y.newscrollx||n!=y.newscrolly?y.doScrollPos(t,n):y.onscrollend&&y.triggerScrollEnd()):y.timer=a(i)||1}if(t="undefined"==typeof t||!1===t?y.getScrollTop(!0):t,y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&l(y.timer),y.timer=0;var n=y.getScrollTop(),r=y.getScrollLeft();(0>(y.newscrolly-n)*(t-n)||0>(y.newscrollx-r)*(e-r))&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-r,y.dst.y=t-n,y.dst.px=r,y.dst.py=n;var s=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/s,y.dst.ay=y.dst.y/s;var c=0,d=s;if(0==y.dst.x?(c=n,d=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(c=r,d=e,y.dst.ax=1,y.dst.px=0),s=y.getTransitionSpeed(s),o&&1>=o&&(s*=o),y.bzscroll=s>0?y.bzscroll?y.bzscroll.update(d,s):new S(c,d,s,0,1,0,1):!1,!y.timer){(n==y.page.maxh&&t>=y.page.maxh||r==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var u=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:s}),i(),(n==y.page.maxh&&t>=n||r==y.page.maxw&&e>=r)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var o=y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>y.page.maxw?y.page.maxw:e;0>i&&(i=0);var n=t>y.page.maxh?y.page.maxh:t;0>n&&(n=0),y.synched("scroll",function(){y.setScrollTop(n),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var o=0,o=t?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.h/2);-i>o?o=-i:o>y.page.maxh+i&&(o=y.page.maxh+i)}return y.cursorfreezed=!1,i=y.getScrollTop(!0),0>o&&0>=i?y.noticeCursor():o>y.page.maxh&&i>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(o)},this.doScrollLeftBy=function(e,t){var o=0,o=t?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.w/2);-i>o?o=-i:o>y.page.maxw+i&&(o=y.page.maxw+i)}return y.cursorfreezed=!1,i=y.getScrollLeft(!0),0>o&&0>=i||o>y.page.maxw&&i>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(o)},this.doScrollTo=function(e,t){t&&Math.round(e*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();e.h==y.page.h&&e.w==y.page.w||y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(t){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var o,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),n=y.win[0].style;for(o in i){var s=i[o];y.zoomrestore.style[s]="undefined"!=typeof n[s]?n[s]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},x.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),i=y.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":r+101}),y.zoom.css({"z-index":r+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(t)}},this.doZoomOut=function(t){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),x.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(t)):void 0},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var t=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,t))}},this.init(),e.nicescroll.push(this)},g=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,o){t.stop();var i=t.time();t.steptime=0,t.lasttime=i,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var i=t.time();t.steptime=i-t.lasttime,t.lasttime=i;var i=o-t.lasty,n=e-t.lastx,r=t.nc.getScrollTop(),s=t.nc.getScrollLeft(),r=r+i,s=s+n;t.snapx=0>s||s>t.nc.page.maxw,t.snapy=0>r||r>t.nc.page.maxh,t.speedx=n,t.speedy=i,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var i=!1;0>o?(o=0,i=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=t.time(),i=e?o+e:t.lasttime;e=t.nc.getScrollLeft();var n=t.nc.getScrollTop(),r=t.nc.page.maxh,s=t.nc.page.maxw;if(t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=r>0?Math.min(60,t.speedy):0,i=i&&60>=o-i,(0>n||n>r||0>e||e>s)&&(i=!1),e=t.speedx&&i?t.speedx:!1,t.speedy&&i&&t.speedy||e){var a=Math.max(16,t.steptime);a>50&&(e=a/50,t.speedx*=e,t.speedy*=e,a=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var l=t.lastscrollx,c=t.lastscrolly,d=function(){var e=600<t.time()-o?.04:.02;t.speedx&&(l=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=l,0>l||l>s)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>r)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=l,t.nc.setScrollLeft(l)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(l,c))}),1>t.demulxy?t.timer=setTimeout(d,a):(t.stop(),t.nc.hideCursor(),t.doSnapy(l,c))};d()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},v=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,o,i){return(o=e.data(t,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollTop():v.call(t)},set:function(t,o){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(o)):v.call(t,o),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var o=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollTop():v.call(this)}return this.each(function(){var o=e.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(t)):v.call(e(this),t)})};var b=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,o,i){return(o=e.data(t,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollLeft():b.call(t)},set:function(t,o){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(o)):b.call(t,o),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var o=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollLeft():b.call(this)}return this.each(function(){var o=e.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):b.call(e(this),t)})};var y=function(t){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,i=0;t<o.length;t++)e.call(o[t],i++);return o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},t)for(var i=0;i<t.length;i++){var n=e.data(t[i],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(e,t,o){for(var i=0;i<t.length;i++)o(e,t[i])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new y(this):this[t]&&e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return!!e.data(t,"__nicescroll")}}),e.fn.niceScroll=function(t,o){"undefined"!=typeof o||"object"!=typeof t||"jquery"in t||(o=t,t=!1),o=e.extend({},o);var i=new y;"undefined"==typeof o&&(o={}),t&&(o.doc=e(t),o.win=e(this));var n=!("doc"in o);return n||"win"in o||(o.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(o.doc=n?e(this):o.doc,t=new f(o,e(this)),e(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new y,e.nicescroll.options=h)}),$(function(){function e(){$(".sidebar-detached .sidebar").niceScroll({mousescrollstep:100,cursorcolor:"#ccc",cursorborder:"",cursorwidth:3,hidecursordelay:100,autohidemode:"scroll",horizrailenabled:!1,preservenativescrolling:!1,railpadding:{right:.5,top:1.5,bottom:1.5}})}function t(){$(".sidebar-detached .sidebar").getNiceScroll().resize()}function o(){$(".sidebar-detached .sidebar").getNiceScroll().remove(),$(".sidebar-detached .sidebar").removeAttr("style").removeAttr("tabindex")}function i(){$(window).on("load scroll",function(){$(window).scrollTop()>$(document).height()-$(window).height()-40?($(".sidebar-detached").addClass("fixed-sidebar-space"),t()):($(".sidebar-detached").removeClass("fixed-sidebar-space"),t())})}$(".sidebar-detached").on("affix.bs.affix",function(){e(),i()}),$(".sidebar-detached").on("affix-top.bs.affix",function(){o(),$(".sidebar-detached .sidebar").removeAttr("style").removeAttr("tabindex")}),$(".sidebar-detached").affix({offset:{top:$(".sidebar-detached").offset().top-20}}),$(window).on("resize",function(){setTimeout(function(){$(window).width()<=768&&(o(),$(window).off(".affix"),$(".sidebar-detached").removeData("affix").removeClass("affix affix-top affix-bottom"))},100)}).resize()}),!function(e,t,o,i){function n(t,o){this.element=e(t),this.settings=e.extend({},x,o),this._defaults=x,this._name=w,this.init()}function r(e){e.element.trigger("change")}function s(t){t.element.find("option").each(function(o,i){var n=e(i);"undefined"==typeof n.data("original-index")&&n.data("original-index",t.elementCount++),"undefined"==typeof n.data("_selected")&&n.data("_selected",!1)})}function a(t,o,i){t.element.find("option").each(function(t,n){var r=e(n);r.data("original-index")===o&&r.prop("selected",i)})}function l(e,t){return e.replace(/\{(\d+)\}/g,function(e,o){return"undefined"!=typeof t[o]?t[o]:e})}function c(e){if(e.settings.infoText){var t=e.elements.select1.find("option").length,o=e.elements.select2.find("option").length,i=e.element.find("option").length-e.selectedElements,n=e.selectedElements,r="";r=0===i?e.settings.infoTextEmpty:t===i?l(e.settings.infoText,[t,i]):l(e.settings.infoTextFiltered,[t,i]),e.elements.info1.html(r),e.elements.box1.toggleClass("filtered",!(t===i||0===i)),r=0===n?e.settings.infoTextEmpty:o===n?l(e.settings.infoText,[o,n]):l(e.settings.infoTextFiltered,[o,n]),e.elements.info2.html(r),e.elements.box2.toggleClass("filtered",!(o===n||0===n))}}function d(t){t.selectedElements=0,t.elements.select1.empty(),t.elements.select2.empty(),t.element.find("option").each(function(o,i){var n=e(i);n.prop("selected")?(t.selectedElements++,t.elements.select2.append(n.clone(!0).prop("selected",n.data("_selected")))):t.elements.select1.append(n.clone(!0).prop("selected",n.data("_selected")))}),t.settings.showFilterInputs&&(u(t,1),u(t,2)),c(t)}function u(t,o){if(t.settings.showFilterInputs){h(t,o),t.elements["select"+o].empty().scrollTop(0);var i=new RegExp(e.trim(t.elements["filterInput"+o].val()),"gi"),n=t.element;n=1===o?n.find("option").not(":selected"):n.find("option:selected"),n.each(function(n,r){var s=e(r),a=!0;(r.text.match(i)||t.settings.filterOnValues&&s.attr("value").match(i))&&(a=!1,t.elements["select"+o].append(s.clone(!0).prop("selected",s.data("_selected")))),t.element.find("option").eq(s.data("original-index")).data("filtered"+o,a)}),c(t)}}function h(t,o){t.elements["select"+o].find("option").each(function(o,i){var n=e(i);t.element.find("option").eq(n.data("original-index")).data("_selected",n.prop("selected"))})}function p(t){t.find("option").sort(function(t,o){return e(t).data("original-index")>e(o).data("original-index")?1:-1}).appendTo(t)}function m(e){e.elements.select1.find("option").each(function(){e.element.find("option").data("_selected",!1)})}function f(t){"all"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect?"moved"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect||h(t,1):(h(t,1),h(t,2)),t.elements.select1.find("option:selected").each(function(o,i){var n=e(i);n.data("filtered1")||a(t,n.data("original-index"),!0)}),d(t),r(t),p(t.elements.select2)}function g(t){"all"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect?"moved"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect||h(t,2):(h(t,1),
h(t,2)),t.elements.select2.find("option:selected").each(function(o,i){var n=e(i);n.data("filtered2")||a(t,n.data("original-index"),!1)}),d(t),r(t),p(t.elements.select1)}function v(t){"all"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect?"moved"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect||h(t,1):(h(t,1),h(t,2)),t.element.find("option").each(function(t,o){var i=e(o);i.data("filtered1")||i.prop("selected",!0)}),d(t),r(t)}function b(t){"all"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect?"moved"!==t.settings.preserveSelectionOnMove||t.settings.moveOnSelect||h(t,2):(h(t,1),h(t,2)),t.element.find("option").each(function(t,o){var i=e(o);i.data("filtered2")||i.prop("selected",!1)}),d(t),r(t)}function y(e){e.elements.form.submit(function(t){e.elements.filterInput1.is(":focus")?(t.preventDefault(),e.elements.filterInput1.focusout()):e.elements.filterInput2.is(":focus")&&(t.preventDefault(),e.elements.filterInput2.focusout())}),e.element.on("bootstrapDualListbox.refresh",function(t,o){e.refresh(o)}),e.elements.filterClear1.on("click",function(){e.setNonSelectedFilter("",!0)}),e.elements.filterClear2.on("click",function(){e.setSelectedFilter("",!0)}),e.elements.moveButton.on("click",function(){f(e)}),e.elements.moveAllButton.on("click",function(){v(e)}),e.elements.removeButton.on("click",function(){g(e)}),e.elements.removeAllButton.on("click",function(){b(e)}),e.elements.filterInput1.on("change keyup",function(){u(e,1)}),e.elements.filterInput2.on("change keyup",function(){u(e,2)})}var w="bootstrapDualListbox",x={bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",moveOnSelect:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:100,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Showing all {0}",infoTextFiltered:'<span class="label label-warning">Filtered</span> {0} from {1}',infoTextEmpty:"Empty list",filterOnValues:!1},k=/android/i.test(navigator.userAgent.toLowerCase());n.prototype={init:function(){this.container=e('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label></label>      <input class="filter form-control" type="text">   <div class="btn-group buttons">     <button type="button" class="btn moveall">       <i></i>    </button>     <button type="button" class="btn move">       <i></i>     </button>   </div>   <select multiple="multiple"></select> <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear1 pull-right"></button>   </span> </div> <div class="box2">   <label></label>      <input class="filter form-control" type="text">   <div class="btn-group buttons">     <button type="button" class="btn remove">       <i></i>     </button>     <button type="button" class="btn removeall">       <i></i>          </button>   </div>   <select multiple="multiple"></select> <span class="info-container">     <span class="info"></span>     <button type="button" class="btn clear2 pull-right"></button>   </span></div></div>').insertBefore(this.element),this.elements={originalSelect:this.element,box1:e(".box1",this.container),box2:e(".box2",this.container),filterInput1:e(".box1 .filter",this.container),filterInput2:e(".box2 .filter",this.container),filterClear1:e(".box1 .clear1",this.container),filterClear2:e(".box2 .clear2",this.container),label1:e(".box1 > label",this.container),label2:e(".box2 > label",this.container),info1:e(".box1 .info",this.container),info2:e(".box2 .info",this.container),select1:e(".box1 select",this.container),select2:e(".box2 select",this.container),moveButton:e(".box1 .move",this.container),removeButton:e(".box2 .remove",this.container),moveAllButton:e(".box1 .moveall",this.container),removeAllButton:e(".box2 .removeall",this.container),form:e(e(".box1 .filter",this.container)[0].form)},this.originalSelectName=this.element.attr("name")||"";var t="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,o="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",t),this.elements.select2.attr("id",o),this.elements.label1.attr("for",t),this.elements.label2.attr("for",o),this.selectedElements=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setSelectOrMinimalHeight(this.settings.selectorMinimalHeight),s(this),this.setShowFilterInputs(this.settings.showFilterInputs),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.element.hide(),y(this),d(this),this.element},setBootstrap2Compatible:function(e,t){return this.settings.bootstrap2Compatible=e,e?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-6").addClass("span6"),this.container.find(".clear1, .clear2").removeClass("btn-default").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default"),this.container.find(".moveall > i").removeClass("icon-last").addClass("icon-last"),this.container.find(".move > i").removeClass("icon-forward3").addClass("icon-forward3"),this.container.find(".removeall > i").removeClass("icon-first").addClass("icon-first"),this.container.find(".remove > i").removeClass("icon-backward2").addClass("icon-backward2")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").removeClass("span6").addClass("col-md-6"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default"),this.container.find("input, select").addClass("form-control"),this.container.find(".btn").addClass("btn-default"),this.container.find(".moveall > i").removeClass("icon-last").addClass("icon-last"),this.container.find(".move > i").removeClass("icon-forward3").addClass("icon-forward3"),this.container.find(".removeall > i").removeClass("icon-first").addClass("icon-first"),this.container.find(".remove > i").removeClass("icon-backward2").addClass("icon-backward2")),t&&d(this),this.element},setFilterTextClear:function(e,t){return this.settings.filterTextClear=e,this.elements.filterClear1.html(e),this.elements.filterClear2.html(e),t&&d(this),this.element},setFilterPlaceHolder:function(e,t){return this.settings.filterPlaceHolder=e,this.elements.filterInput1.attr("placeholder",e),this.elements.filterInput2.attr("placeholder",e),t&&d(this),this.element},setMoveSelectedLabel:function(e,t){return this.settings.moveSelectedLabel=e,this.elements.moveButton.attr("title",e),t&&d(this),this.element},setMoveAllLabel:function(e,t){return this.settings.moveAllLabel=e,this.elements.moveAllButton.attr("title",e),t&&d(this),this.element},setRemoveSelectedLabel:function(e,t){return this.settings.removeSelectedLabel=e,this.elements.removeButton.attr("title",e),t&&d(this),this.element},setRemoveAllLabel:function(e,t){return this.settings.removeAllLabel=e,this.elements.removeAllButton.attr("title",e),t&&d(this),this.element},setMoveOnSelect:function(e,t){if(k&&(e=!0),this.settings.moveOnSelect=e,this.settings.moveOnSelect){this.container.addClass("moveonselect");var o=this;this.elements.select1.on("change",function(){f(o)}),this.elements.select2.on("change",function(){g(o)})}else this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change");return t&&d(this),this.element},setPreserveSelectionOnMove:function(e,t){return k&&(e=!1),this.settings.preserveSelectionOnMove=e,t&&d(this),this.element},setSelectedListLabel:function(e,t){return this.settings.selectedListLabel=e,e?this.elements.label2.show().html(e):this.elements.label2.hide().html(e),t&&d(this),this.element},setNonSelectedListLabel:function(e,t){return this.settings.nonSelectedListLabel=e,e?this.elements.label1.show().html(e):this.elements.label1.hide().html(e),t&&d(this),this.element},setHelperSelectNamePostfix:function(e,t){return this.settings.helperSelectNamePostfix=e,e?(this.elements.select1.attr("name",this.originalSelectName+e+"1"),this.elements.select2.attr("name",this.originalSelectName+e+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),t&&d(this),this.element},setSelectOrMinimalHeight:function(e,t){this.settings.selectorMinimalHeight=e;var o=this.element.height();return this.element.height()<e&&(o=e),this.elements.select1.height(o),this.elements.select2.height(o),t&&d(this),this.element},setShowFilterInputs:function(e,t){return e?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),d(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.showFilterInputs=e,t&&d(this),this.element},setNonSelectedFilter:function(e,t){return this.settings.showFilterInputs?(this.settings.nonSelectedFilter=e,this.elements.filterInput1.val(e),t&&d(this),this.element):void 0},setSelectedFilter:function(e,t){return this.settings.showFilterInputs?(this.settings.selectedFilter=e,this.elements.filterInput2.val(e),t&&d(this),this.element):void 0},setInfoText:function(e,t){return this.settings.infoText=e,t&&d(this),this.element},setInfoTextFiltered:function(e,t){return this.settings.infoTextFiltered=e,t&&d(this),this.element},setInfoTextEmpty:function(e,t){return this.settings.infoTextEmpty=e,t&&d(this),this.element},setFilterOnValues:function(e,t){return this.settings.filterOnValues=e,t&&d(this),this.element},getContainer:function(){return this.container},refresh:function(e){s(this),e?m(this):(h(this,1),h(this,2)),d(this)},destroy:function(){return this.container.remove(),this.element.show(),e.data(this,"plugin_"+w,null),this.element}},e.fn[w]=function(t){var o=arguments;if(t===i||"object"==typeof t)return this.each(function(){e(this).is("select")?e.data(this,"plugin_"+w)||e.data(this,"plugin_"+w,new n(this,t)):e(this).find("select").each(function(o,i){e(i).bootstrapDualListbox(t)})});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var r;return this.each(function(){var i=e.data(this,"plugin_"+w);i instanceof n&&"function"==typeof i[t]&&(r=i[t].apply(i,Array.prototype.slice.call(o,1)))}),r!==i?r:this}}}(jQuery,window,document),function(e){function t(e,t){var o=new google.maps.Map(e,t),i=new google.maps.Marker({position:new google.maps.LatLng(54.19335,-3.92695),map:o,title:"Drag Me",draggable:t.draggable});return{map:o,marker:i,circle:null,location:i.position,radius:t.radius,locationName:t.locationName,settings:t.settings,domContainer:e,geodecoder:new google.maps.Geocoder}}function o(e){return void 0!=i(e)}function i(t){return e(t).data("locationpicker")}function n(e,t){if(e){var o=s.locationFromLatLng(t.location);e.latitudeInput&&e.latitudeInput.val(o.latitude),e.longitudeInput&&e.longitudeInput.val(o.longitude),e.radiusInput&&e.radiusInput.val(t.radius),e.locationNameInput&&e.locationNameInput.val(t.locationName)}}function r(t,o){t&&(t.radiusInput&&t.radiusInput.on("change",function(){o.radius=e(this).val(),s.setPosition(o,o.location,function(e){e.settings.onchanged(s.locationFromLatLng(e.location),e.radius,!1)})}),t.locationNameInput&&o.settings.enableAutocomplete&&(o.autocomplete=new google.maps.places.Autocomplete(t.locationNameInput.get(0)),google.maps.event.addListener(o.autocomplete,"place_changed",function(){var e=o.autocomplete.getPlace();return e.geometry?void s.setPosition(o,e.geometry.location,function(e){n(t,e),e.settings.onchanged(s.locationFromLatLng(e.location),e.radius,!1)}):void o.settings.onlocationnotfound(e.name)})),t.latitudeInput&&t.latitudeInput.on("change",function(){s.setPosition(o,new google.maps.LatLng(e(this).val(),o.location.lng()),function(e){e.settings.onchanged(s.locationFromLatLng(e.location),e.radius,!1)})}),t.longitudeInput&&t.longitudeInput.on("change",function(){s.setPosition(o,new google.maps.LatLng(o.location.lat(),e(this).val()),function(e){e.settings.onchanged(s.locationFromLatLng(e.location),e.radius,!1)})}))}var s={drawCircle:function(t,o,i,n){return null!=t.circle&&t.circle.setMap(null),i>0?(i*=1,n=e.extend({strokeColor:"#0000FF",strokeOpacity:.35,strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},n),n.map=t.map,n.radius=i,n.center=o,t.circle=new google.maps.Circle(n),t.circle):null},setPosition:function(e,t,o){e.location=t,e.marker.setPosition(t),e.map.panTo(t),this.drawCircle(e,t,e.radius,{}),e.settings.enableReverseGeocode?e.geodecoder.geocode({latLng:e.location},function(t,i){i==google.maps.GeocoderStatus.OK&&t.length>0&&(e.locationName=t[0].formatted_address),o&&o.call(this,e)}):o&&o.call(this,e)},locationFromLatLng:function(e){return{latitude:e.lat(),longitude:e.lng()}}};e.fn.locationpicker=function(a,l){if("string"==typeof a){var c=this.get(0);if(!o(c))return;var d=i(c);switch(a){case"location":if(void 0==l){var u=s.locationFromLatLng(d.location);return u.radius=d.radius,u.name=d.locationName,u}l.radius&&(d.radius=l.radius),s.setPosition(d,new google.maps.LatLng(l.latitude,l.longitude),function(e){n(e.settings.inputBinding,e)});break;case"subscribe":if(void 0==a)return null;var h=l.event,p=l.callback;if(!h||!p)return null;google.maps.event.addListener(d.map,h,p)}return null}return this.each(function(){var i=e(this);if(!o(this)){var l=e.extend({},e.fn.locationpicker.defaults,a),c=new t(this,{zoom:l.zoom,center:new google.maps.LatLng(l.location.latitude,l.location.longitude),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,disableDoubleClickZoom:!1,scrollwheel:l.scrollwheel,streetViewControl:!1,radius:l.radius,locationName:l.locationName,settings:l,draggable:l.draggable});i.data("locationpicker",c),google.maps.event.addListener(c.marker,"dragend",function(e){s.setPosition(c,c.marker.position,function(e){var t=s.locationFromLatLng(c.location);e.settings.onchanged(t,e.radius,!0),n(c.settings.inputBinding,c)})}),s.setPosition(c,new google.maps.LatLng(l.location.latitude,l.location.longitude),function(e){n(l.inputBinding,c),e.settings.oninitialized(i)}),r(l.inputBinding,c)}})},e.fn.locationpicker.defaults={location:{latitude:40.7324319,longitude:-73.82480799999996},locationName:"",radius:500,zoom:15,scrollwheel:!0,inputBinding:{latitudeInput:null,longitudeInput:null,radiusInput:null,locationNameInput:null},enableAutocomplete:!1,enableReverseGeocode:!0,draggable:!0,onchanged:function(e,t,o){},onlocationnotfound:function(e){},oninitialized:function(e){}}}(jQuery),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(r,s,l,h){function p(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",z.component.nodes(k.open),T.box),T.wrap),T.frame),T.holder,'tabindex="-1"')}function m(){M.data(s,z).addClass(T.input).val(M.data("value")?z.get("select",S.format):r.value),S.editable||M.on("focus."+k.id+" click."+k.id,function(e){e.preventDefault(),z.open()}).on("keydown."+k.id,w),n(r,{haspopup:!0,expanded:!1,readonly:!1,owns:r.id+"_root"})}function f(){n(z.$root[0],"hidden",!0)}function g(){z.$holder.on({keydown:w,"focus.toOpen":y,blur:function(){M.removeClass(T.target)},focusin:function(e){z.$root.removeClass(T.focused),e.stopPropagation()},"mousedown click":function(t){var o=t.target;o!=z.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(o).is("input, select, textarea, button, option")||(t.preventDefault(),z.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),o=t.data(),i=t.hasClass(T.navDisabled)||t.hasClass(T.disabled),n=a();n=n&&(n.type||n.href),(i||n&&!e.contains(z.$root[0],n))&&z.$holder[0].focus(),!i&&o.nav?z.set("highlight",z.component.item.highlight,{nav:o.nav}):!i&&"pick"in o?(z.set("select",o.pick),S.closeOnSelect&&z.close(!0)):o.clear?(z.clear(),S.closeOnClear&&z.close(!0)):o.close&&z.close(!0)})}function v(){var t;S.hiddenName===!0?(t=r.name,r.name=""):(t=["string"==typeof S.hiddenPrefix?S.hiddenPrefix:"","string"==typeof S.hiddenSuffix?S.hiddenSuffix:"_submit"],t=t[0]+r.name+t[1]),z._hidden=e('<input type=hidden name="'+t+'"'+(M.data("value")||r.value?' value="'+z.get("select",S.formatSubmit)+'"':"")+">")[0],M.on("change."+k.id,function(){z._hidden.value=r.value?z.get("select",S.formatSubmit):""})}function b(){x&&u?z.$holder.find("."+T.frame).one("transitionend",function(){z.$holder[0].focus()}):z.$holder[0].focus()}function y(e){e.stopPropagation(),M.addClass(T.target),z.$root.addClass(T.focused),z.open()}function w(e){var t=e.keyCode,o=/^(8|46)$/.test(t);return 27==t?(z.close(!0),!1):void((32==t||o||!k.open&&z.component.key[t])&&(e.preventDefault(),e.stopPropagation(),o?z.clear().close():z.open()))}if(!r)return t;var x=!1,k={id:r.id||"P"+Math.abs(~~(Math.random()*new Date))},S=l?e.extend(!0,{},l.defaults,h):h||{},T=e.extend({},t.klasses(),S.klass),M=e(r),C=function(){return this.start()},z=C.prototype={constructor:C,$node:M,start:function(){return k&&k.start?z:(k.methods={},k.start=!0,k.open=!1,k.type=r.type,r.autofocus=r==a(),r.readOnly=!S.editable,r.id=r.id||k.id,"text"!=r.type&&(r.type="text"),z.component=new l(z,S),z.$root=e('<div class="'+T.picker+'" id="'+r.id+'_root" />'),f(),z.$holder=e(p()).appendTo(z.$root),g(),S.formatSubmit&&v(),m(),S.containerHidden?e(S.containerHidden).append(z._hidden):M.after(z._hidden),S.container?e(S.container).append(z.$root):M.after(z.$root),z.on({start:z.component.onStart,render:z.component.onRender,stop:z.component.onStop,open:z.component.onOpen,close:z.component.onClose,set:z.component.onSet}).on({start:S.onStart,render:S.onRender,stop:S.onStop,open:S.onOpen,close:S.onClose,set:S.onSet}),x=o(z.$holder[0]),r.autofocus&&z.open(),z.trigger("start").trigger("render"))},render:function(t){return t?(z.$holder=e(p()),g(),z.$root.html(z.$holder)):z.$root.find("."+T.box).html(z.component.nodes(k.open)),z.trigger("render")},stop:function(){return k.start?(z.close(),z._hidden&&z._hidden.parentNode.removeChild(z._hidden),z.$root.remove(),M.removeClass(T.input).removeData(s),setTimeout(function(){M.off("."+k.id)},0),r.type=k.type,r.readOnly=!1,z.trigger("stop"),k.methods={},k.start=!1,z):z},open:function(o){return k.open?z:(M.addClass(T.active),n(r,"expanded",!0),setTimeout(function(){z.$root.addClass(T.opened),n(z.$root[0],"hidden",!1)},0),o!==!1&&(k.open=!0,x&&d.css("overflow","hidden").css("padding-right","+="+i()),b(),c.on("click."+k.id+" focusin."+k.id,function(e){var t=e.target;t!=r&&t!=document&&3!=e.which&&z.close(t===z.$holder[0])}).on("keydown."+k.id,function(o){var i=o.keyCode,n=z.component.key[i],r=o.target;27==i?z.close(!0):r!=z.$holder[0]||!n&&13!=i?e.contains(z.$root[0],r)&&13==i&&(o.preventDefault(),r.click()):(o.preventDefault(),n?t._.trigger(z.component.key.go,z,[t._.trigger(n)]):z.$root.find("."+T.highlighted).hasClass(T.disabled)||(z.set("select",z.component.item.highlight),S.closeOnSelect&&z.close(!0)))})),z.trigger("open"))},close:function(e){return e&&(S.editable?r.focus():(z.$holder.off("focus.toOpen").focus(),setTimeout(function(){z.$holder.on("focus.toOpen",y)},0))),M.removeClass(T.active),n(r,"expanded",!1),setTimeout(function(){z.$root.removeClass(T.opened+" "+T.focused),n(z.$root[0],"hidden",!0)},0),k.open?(k.open=!1,x&&d.css("overflow","").css("padding-right","-="+i()),c.off("."+k.id),z.trigger("close")):z},clear:function(e){return z.set("clear",null,e)},set:function(t,o,i){var n,r,s=e.isPlainObject(t),a=s?t:{};if(i=s&&e.isPlainObject(o)?o:i||{},t){s||(a[t]=o);for(n in a)r=a[n],n in z.component.item&&(void 0===r&&(r=null),z.component.set(n,r,i)),"select"!=n&&"clear"!=n||M.val("clear"==n?"":z.get(n,S.format)).trigger("change");z.render()}return i.muted?z:z.trigger("set",a)},get:function(e,o){if(e=e||"value",null!=k[e])return k[e];if("valueSubmit"==e){if(z._hidden)return z._hidden.value;e="value"}if("value"==e)return r.value;if(e in z.component.item){if("string"==typeof o){var i=z.component.get(e);return i?t._.trigger(z.component.formats.toString,z.component,[o,i]):""}return z.component.get(e)}},on:function(t,o,i){var n,r,s=e.isPlainObject(t),a=s?t:{};if(t){s||(a[t]=o);for(n in a)r=a[n],i&&(n="_"+n),k.methods[n]=k.methods[n]||[],k.methods[n].push(r)}return z},off:function(){var e,t,o=arguments;for(e=0,namesCount=o.length;e<namesCount;e+=1)t=o[e],t in k.methods&&delete k.methods[t];return z},trigger:function(e,o){var i=function(e){var i=k.methods[e];i&&i.map(function(e){t._.trigger(e,z,[o])})};return i("_"+e),i(e),z}};return new C}function o(e){var t,o="position";return e.currentStyle?t=e.currentStyle[o]:window.getComputedStyle&&(t=getComputedStyle(e)[o]),"fixed"==t}function i(){if(d.height()<=l.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),o=t[0].offsetWidth;t.css("overflow","scroll");var i=e('<div style="width:100%" />').appendTo(t),n=i[0].offsetWidth;return t.remove(),o-n}function n(t,o,i){if(e.isPlainObject(o))for(var n in o)r(t,n,o[n]);else r(t,o,i)}function r(e,t,o){e.setAttribute(("role"==t?"":"aria-")+t,o)}function s(t,o){e.isPlainObject(t)||(t={attribute:o}),o="";for(var i in t){var n=("role"==i?"":"aria-")+i,r=t[i];o+=null==r?"":n+'="'+t[i]+'"'}return o}function a(){try{return document.activeElement}catch(e){}}var l=e(window),c=e(document),d=e(document.documentElement),u=null!=document.documentElement.style.transition;return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var o,i="",n=t._.trigger(e.min,e);n<=t._.trigger(e.max,e,[n]);n+=e.i)o=t._.trigger(e.item,e,[n]),i+=t._.node(e.node,o[0],o[1],o[2]);return i},node:function(t,o,i,n){return o?(o=e.isArray(o)?o.join(""):o,i=i?' class="'+i+'"':"",n=n?" "+n:"","<"+t+i+n+">"+o+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,o){return"function"==typeof e?e.apply(t,o||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:s},t.extend=function(o,i){e.fn[o]=function(n,r){var s=this.data(o);return"picker"==n?s:s&&"string"==typeof n?t._.trigger(s[n],s,[r]):this.each(function(){var r=e(this);r.data(o)||new t(this,o,i,n)})},e.fn[o].defaults=i.defaults},t}),function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function o(e,t){var o=this,i=e.$node[0],n=i.value,r=e.$node.data("value"),s=r||n,a=r?t.formatSubmit:t.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};o.settings=t,o.$node=e.$node,o.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},o.item={},o.item.clear=null,o.item.disable=(t.disable||[]).slice(0),o.item.enable=-function(e){return e[0]===!0?e.shift():-1}(o.item.disable),o.set("min",t.min).set("max",t.max).set("now"),s?o.set("select",s,{format:a,defaultValue:!0}):o.set("select",null).set("highlight",o.item.now),o.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=o.item.highlight,i=new Date(t.year,t.month,t.date+e);o.set("highlight",i,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var o=this.value;o&&(e.set("highlight",[e.get("view").year,o,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var o=this.value;o&&(e.set("highlight",[o,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";o.disabled(o.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var i=7,n=6,r=e._;o.prototype.set=function(e,t,o){var i=this,n=i.item;return null===t?("clear"==e&&(e="select"),n[e]=t,i):(n["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map(function(n){return t=i[n](e,t,o)}).pop(),"select"==e?i.set("highlight",n.select,o):"highlight"==e?i.set("view",n.highlight,o):e.match(/^(flip|min|max|disable|enable)$/)&&(n.select&&i.disabled(n.select)&&i.set("select",n.select,o),n.highlight&&i.disabled(n.highlight)&&i.set("highlight",n.highlight,o)),i)},o.prototype.get=function(e){return this.item[e]},o.prototype.create=function(e,o,i){var n,s=this;return o=void 0===o?e:o,o==-(1/0)||o==1/0?n=o:t.isPlainObject(o)&&r.isInteger(o.pick)?o=o.obj:t.isArray(o)?(o=new Date(o[0],o[1],o[2]),o=r.isDate(o)?o:s.create().obj):o=r.isInteger(o)||r.isDate(o)?s.normalize(new Date(o),i):s.now(e,o,i),{year:n||o.getFullYear(),month:n||o.getMonth(),date:n||o.getDate(),day:n||o.getDay(),obj:n||o,pick:n||o.getTime()}},o.prototype.createRange=function(e,o){var i=this,n=function(e){return e===!0||t.isArray(e)||r.isDate(e)?i.create(e):e};return r.isInteger(e)||(e=n(e)),r.isInteger(o)||(o=n(o)),r.isInteger(e)&&t.isPlainObject(o)?e=[o.year,o.month,o.date+e]:r.isInteger(o)&&t.isPlainObject(e)&&(o=[e.year,e.month,e.date+o]),{from:n(e),to:n(o)}},o.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},o.prototype.overlapRanges=function(e,t){var o=this;return e=o.createRange(e.from,e.to),t=o.createRange(t.from,t.to),o.withinRange(e,t.from)||o.withinRange(e,t.to)||o.withinRange(t,e.from)||o.withinRange(t,e.to)},o.prototype.now=function(e,t,o){return t=new Date,o&&o.rel&&t.setDate(t.getDate()+o.rel),this.normalize(t,o)},o.prototype.navigate=function(e,o,i){var n,r,s,a,l=t.isArray(o),c=t.isPlainObject(o),d=this.item.view;if(l||c){for(c?(r=o.year,s=o.month,a=o.date):(r=+o[0],s=+o[1],a=+o[2]),i&&i.nav&&d&&d.month!==s&&(r=d.year,s=d.month),n=new Date(r,s+(i&&i.nav?i.nav:0),1),r=n.getFullYear(),s=n.getMonth();new Date(r,s,a).getMonth()!==s;)a-=1;o=[r,s,a]}return o},o.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},o.prototype.measure=function(e,t){var o=this;return t?"string"==typeof t?t=o.parse(e,t):r.isInteger(t)&&(t=o.now(e,t,{rel:t})):t="min"==e?-(1/0):1/0,t},o.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},o.prototype.validate=function(e,o,i){var n,s,a,l,c=this,d=o,u=i&&i.interval?i.interval:1,h=-1===c.item.enable,p=c.item.min,m=c.item.max,f=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var i=c.create(e).pick;i<o.pick?n=!0:i>o.pick&&(s=!0)}return r.isInteger(e)}).length;if((!i||!i.nav&&!i.defaultValue)&&(!h&&c.disabled(o)||h&&c.disabled(o)&&(f||n||s)||!h&&(o.pick<=p.pick||o.pick>=m.pick)))for(h&&!f&&(!s&&u>0||!n&&0>u)&&(u*=-1);c.disabled(o)&&(Math.abs(u)>1&&(o.month<d.month||o.month>d.month)&&(o=d,u=u>0?1:-1),o.pick<=p.pick?(a=!0,u=1,o=c.create([p.year,p.month,p.date+(o.pick===p.pick?0:-1)])):o.pick>=m.pick&&(l=!0,u=-1,o=c.create([m.year,m.month,m.date+(o.pick===m.pick?0:1)])),!a||!l);)o=c.create([o.year,o.month,o.date+u]);return o},o.prototype.disabled=function(e){var o=this,i=o.item.disable.filter(function(i){return r.isInteger(i)?e.day===(o.settings.firstDay?i:i-1)%7:t.isArray(i)||r.isDate(i)?e.pick===o.create(i).pick:t.isPlainObject(i)?o.withinRange(i,e):void 0});return i=i.length&&!i.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===o.item.enable?!i:i||e.pick<o.item.min.pick||e.pick>o.item.max.pick},o.prototype.parse=function(e,t,o){var i=this,n={};return t&&"string"==typeof t?(o&&o.format||(o=o||{},o.format=i.settings.format),i.formats.toArray(o.format).map(function(e){var o=i.formats[e],s=o?r.trigger(o,i,[t,n]):e.replace(/^!/,"").length;o&&(n[e]=t.substr(0,s)),t=t.substr(s)}),[n.yyyy||n.yy,+(n.mm||n.m)-1,n.dd||n.d]):t},o.prototype.formats=function(){function e(e,t,o){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return o.mm||o.m||(o.m=t.indexOf(i)+1),i.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?r.digits(e):t.date},dd:function(e,t){return e?2:r.lead(t.date)},ddd:function(e,o){return e?t(e):this.settings.weekdaysShort[o.day]},dddd:function(e,o){return e?t(e):this.settings.weekdaysFull[o.day]},m:function(e,t){return e?r.digits(e):t.month+1},mm:function(e,t){return e?2:r.lead(t.month+1)},mmm:function(t,o){var i=this.settings.monthsShort;return t?e(t,i,o):i[o.month]},mmmm:function(t,o){var i=this.settings.monthsFull;return t?e(t,i,o):i[o.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var o=this;return o.formats.toArray(e).map(function(e){return r.trigger(o.formats[e],o,[0,t])||e.replace(/^!/,"")}).join("")}}}(),o.prototype.isDateExact=function(e,o){var i=this;return r.isInteger(e)&&r.isInteger(o)||"boolean"==typeof e&&"boolean"==typeof o?e===o:(r.isDate(e)||t.isArray(e))&&(r.isDate(o)||t.isArray(o))?i.create(e).pick===i.create(o).pick:t.isPlainObject(e)&&t.isPlainObject(o)?i.isDateExact(e.from,o.from)&&i.isDateExact(e.to,o.to):!1},o.prototype.isDateOverlap=function(e,o){var i=this,n=i.settings.firstDay?1:0;return r.isInteger(e)&&(r.isDate(o)||t.isArray(o))?(e=e%7+n,e===i.create(o).day+1):r.isInteger(o)&&(r.isDate(e)||t.isArray(e))?(o=o%7+n,o===i.create(e).day+1):t.isPlainObject(e)&&t.isPlainObject(o)?i.overlapRanges(e,o):!1},o.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},o.prototype.deactivate=function(e,o){var i=this,n=i.item.disable.slice(0);return"flip"==o?i.flipEnable():o===!1?(i.flipEnable(1),n=[]):o===!0?(i.flipEnable(-1),n=[]):o.map(function(e){for(var o,s=0;s<n.length;s+=1)if(i.isDateExact(e,n[s])){o=!0;break}o||(r.isInteger(e)||r.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&n.push(e)}),n},o.prototype.activate=function(e,o){var i=this,n=i.item.disable,s=n.length;return"flip"==o?i.flipEnable():o===!0?(i.flipEnable(1),n=[]):o===!1?(i.flipEnable(-1),n=[]):o.map(function(e){var o,a,l,c;for(l=0;s>l;l+=1){if(a=n[l],i.isDateExact(a,e)){o=n[l]=null,c=!0;break}if(i.isDateOverlap(a,e)){t.isPlainObject(e)?(e.inverted=!0,o=e):t.isArray(e)?(o=e,o[3]||o.push("inverted")):r.isDate(e)&&(o=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(o)for(l=0;s>l;l+=1)if(i.isDateExact(n[l],e)){n[l]=null;break}if(c)for(l=0;s>l;l+=1)if(i.isDateOverlap(n[l],e)){n[l]=null;break}o&&n.push(o)}),n.filter(function(e){return null!=e})},o.prototype.nodes=function(e){var t=this,o=t.settings,s=t.item,a=s.now,l=s.select,c=s.highlight,d=s.view,u=s.disable,h=s.min,p=s.max,m=function(e,t){return o.firstDay&&(e.push(e.shift()),
t.push(t.shift())),r.node("thead",r.node("tr",r.group({min:0,max:i-1,i:1,node:"th",item:function(i){return[e[i],o.klass.weekdays,'scope=col title="'+t[i]+'"']}})))}((o.showWeekdaysFull?o.weekdaysFull:o.weekdaysShort).slice(0),o.weekdaysFull.slice(0)),f=function(e){return r.node("div"," ",o.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=p.year&&d.month>=p.month||!e&&d.year<=h.year&&d.month<=h.month?" "+o.klass.navDisabled:""),"data-nav="+(e||-1)+" "+r.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?o.labelMonthNext:o.labelMonthPrev)+'"')},g=function(){var i=o.showMonthsShort?o.monthsShort:o.monthsFull;return o.selectMonths?r.node("select",r.group({min:0,max:11,i:1,node:"option",item:function(e){return[i[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==h.year&&e<h.month||d.year==p.year&&e>p.month?" disabled":"")]}}),o.klass.selectMonth,(e?"":"disabled")+" "+r.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+o.labelMonthSelect+'"'):r.node("div",i[d.month],o.klass.month)},v=function(){var i=d.year,n=o.selectYears===!0?5:~~(o.selectYears/2);if(n){var s=h.year,a=p.year,l=i-n,c=i+n;if(s>l&&(c+=s-l,l=s),c>a){var u=l-s,m=c-a;l-=u>m?m:u,c=a}return r.node("select",r.group({min:l,max:c,i:1,node:"option",item:function(e){return[e,0,"value="+e+(i==e?" selected":"")]}}),o.klass.selectYear,(e?"":"disabled")+" "+r.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+o.labelYearSelect+'"')}return r.node("div",i,o.klass.year)};return r.node("div",(o.selectYears?v()+g():g()+v())+f()+f(1),o.klass.header)+r.node("table",m+r.node("tbody",r.group({min:0,max:n-1,i:1,node:"tr",item:function(e){var n=o.firstDay&&0===t.create([d.year,d.month,1]).day?-7:0;return[r.group({min:i*e-d.day+n+1,max:function(){return this.min+i-1},i:1,node:"td",item:function(e){e=t.create([d.year,d.month,e+(o.firstDay?1:0)]);var i=l&&l.pick==e.pick,n=c&&c.pick==e.pick,s=u&&t.disabled(e)||e.pick<h.pick||e.pick>p.pick,m=r.trigger(t.formats.toString,t,[o.format,e]);return[r.node("div",e.date,function(t){return t.push(d.month==e.month?o.klass.infocus:o.klass.outfocus),a.pick==e.pick&&t.push(o.klass.now),i&&t.push(o.klass.selected),n&&t.push(o.klass.highlighted),s&&t.push(o.klass.disabled),t.join(" ")}([o.klass.day]),"data-pick="+e.pick+" "+r.ariaAttr({role:"gridcell",label:m,selected:i&&t.$node.val()===m?!0:null,activedescendant:n?!0:null,disabled:s?!0:null})),"",r.ariaAttr({role:"presentation"})]}})]}})),o.klass.table,'id="'+t.$node[0].id+'_table" '+r.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+r.node("div",r.node("button",o.today,o.klass.buttonToday,"type=button data-pick="+a.pick+(e&&!t.disabled(a)?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id}))+r.node("button",o.clear,o.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id}))+r.node("button",o.close,o.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+r.ariaAttr({controls:t.$node[0].id})),o.klass.footer)},o.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",o)}),!function(e,t){function o(){function o(t){var o=t||e.event,i=o.keyCode||o.which;if(-1!==[9,13,32,27].indexOf(i)){for(var n=o.target||o.srcElement,r=-1,s=0;s<T.length;s++)if(n===T[s]){r=s;break}9===i?(n=-1===r?k:r===T.length-1?T[0]:T[r+1],F(o),n.focus(),a(n,u.confirmButtonColor)):(n=13===i||32===i?-1===r?k:void 0:27!==i||S.hidden||"none"===S.style.display?void 0:S,void 0!==n&&A(n,o))}}function s(t){var o=t||e.event,i=o.target||o.srcElement,n=o.relatedTarget,r=x(f,"visible");if(r){var s=-1;if(null!==n){for(var a=0;a<T.length;a++)if(n===T[a]){s=a;break}-1===s&&i.focus()}else m=i}}if(void 0===arguments[0])return e.console.error("sweetAlert expects at least 1 attribute!"),!1;var u=r({},b);switch(typeof arguments[0]){case"string":u.title=arguments[0],u.text=arguments[1]||"",u.type=arguments[2]||"";break;case"object":if(void 0===arguments[0].title)return e.console.error('Missing "title" argument!'),!1;u.title=arguments[0].title,u.text=arguments[0].text||b.text,u.type=arguments[0].type||b.type,u.customClass=arguments[0].customClass||u.customClass,u.allowOutsideClick=arguments[0].allowOutsideClick||b.allowOutsideClick,u.showCancelButton=void 0!==arguments[0].showCancelButton?arguments[0].showCancelButton:b.showCancelButton,u.closeOnConfirm=void 0!==arguments[0].closeOnConfirm?arguments[0].closeOnConfirm:b.closeOnConfirm,u.closeOnCancel=void 0!==arguments[0].closeOnCancel?arguments[0].closeOnCancel:b.closeOnCancel,u.timer=arguments[0].timer||b.timer,u.confirmButtonText=b.showCancelButton?"Confirm":b.confirmButtonText,u.confirmButtonText=arguments[0].confirmButtonText||b.confirmButtonText,u.confirmButtonColor=arguments[0].confirmButtonColor||b.confirmButtonColor,u.cancelButtonText=arguments[0].cancelButtonText||b.cancelButtonText,u.imageUrl=arguments[0].imageUrl||b.imageUrl,u.imageSize=arguments[0].imageSize||b.imageSize,u.doneFunction=arguments[1]||null;break;default:return e.console.error('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}i(u),d(),l();for(var f=y(),g=function(t){var o=t||e.event,i=o.target||o.srcElement,r="confirm"===i.className,s=x(f,"visible"),a=u.doneFunction&&"true"===f.getAttribute("data-has-done-function");switch(o.type){case"mouseover":r&&(i.style.backgroundColor=n(u.confirmButtonColor,-.04));break;case"mouseout":r&&(i.style.backgroundColor=u.confirmButtonColor);break;case"mousedown":r&&(i.style.backgroundColor=n(u.confirmButtonColor,-.14));break;case"mouseup":r&&(i.style.backgroundColor=n(u.confirmButtonColor,-.04));break;case"focus":var l=f.querySelector("button.confirm"),d=f.querySelector("button.cancel");r?d.style.boxShadow="none":l.style.boxShadow="none";break;case"click":if(r&&a&&s)u.doneFunction(!0),u.closeOnConfirm&&c();else if(a&&s){var h=String(u.doneFunction).replace(/\s/g,""),p="function("===h.substring(0,9)&&")"!==h.substring(9,10);p&&u.doneFunction(!1),u.closeOnCancel&&c()}else c()}},v=f.querySelectorAll("button"),w=0;w<v.length;w++)v[w].onclick=g,v[w].onmouseover=g,v[w].onmouseout=g,v[w].onmousedown=g,v[w].onfocus=g;h=t.onclick,t.onclick=function(t){var o=t||e.event,i=o.target||o.srcElement,n=f===i,r=O(f,i),s=x(f,"visible"),a="true"===f.getAttribute("data-allow-ouside-click");!n&&!r&&s&&a&&c()};var k=f.querySelector("button.confirm"),S=f.querySelector("button.cancel"),T=f.querySelectorAll("button:not([type=hidden])");p=e.onkeydown,e.onkeydown=o,k.onblur=s,S.onblur=s,e.onfocus=function(){e.setTimeout(function(){void 0!==m&&(m.focus(),m=void 0)},0)}}function i(t){var o=y(),i=o.querySelector("h2"),n=o.querySelector("p"),r=o.querySelector("button.cancel"),s=o.querySelector("button.confirm");if(i.innerHTML=T(t.title).split("\n").join("<br>"),n.innerHTML=T(t.text||"").split("\n").join("<br>"),t.text&&C(n),t.customClass&&k(o,t.customClass),L(o.querySelectorAll(".icon")),t.type){for(var l=!1,c=0;c<v.length;c++)if(t.type===v[c]){l=!0;break}if(!l)return e.console.error("Unknown alert type: "+t.type),!1;var d=o.querySelector(".icon."+t.type);switch(C(d),t.type){case"success":k(d,"animate"),k(d.querySelector(".tip"),"animateSuccessTip"),k(d.querySelector(".long"),"animateSuccessLong");break;case"error":k(d,"animateErrorIcon"),k(d.querySelector(".x-mark"),"animateXMark");break;case"warning":k(d,"pulseWarning"),k(d.querySelector(".body"),"pulseWarningIns"),k(d.querySelector(".dot"),"pulseWarningIns")}}if(t.imageUrl){var u=o.querySelector(".icon.custom");u.style.backgroundImage="url("+t.imageUrl+")",C(u);var h=80,p=80;if(t.imageSize){var m=t.imageSize.split("x")[0],f=t.imageSize.split("x")[1];m&&f?(h=m,p=f,u.css({width:m+"px",height:f+"px"})):e.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}u.setAttribute("style",u.getAttribute("style")+"width:"+h+"px; height:"+p+"px")}o.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?r.style.display="inline-block":L(r),t.cancelButtonText&&(r.innerHTML=T(t.cancelButtonText)),t.confirmButtonText&&(s.innerHTML=T(t.confirmButtonText)),s.style.backgroundColor=t.confirmButtonColor,a(s,t.confirmButtonColor),o.setAttribute("data-allow-ouside-click",t.allowOutsideClick);var g=!!t.doneFunction;o.setAttribute("data-has-done-function",g),o.setAttribute("data-timer",t.timer)}function n(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var o,i,n="#";for(i=0;3>i;i++)o=parseInt(e.substr(2*i,2),16),o=Math.round(Math.min(Math.max(0,o+o*t),255)).toString(16),n+=("00"+o).substr(o.length);return n}function r(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function s(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null}function a(e,t){var o=s(t);e.style.boxShadow="0 0 2px rgba("+o+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function l(){var e=y();I(w(),10),C(e),k(e,"showSweetAlert"),S(e,"hideSweetAlert"),u=t.activeElement;var o=e.querySelector("button.confirm");o.focus(),setTimeout(function(){k(e,"visible")},500);var i=e.getAttribute("data-timer");"null"!==i&&""!==i&&(e.timeout=setTimeout(function(){c()},i))}function c(){var o=y();D(w(),5),D(o,5),S(o,"showSweetAlert"),k(o,"hideSweetAlert"),S(o,"visible");var i=o.querySelector(".icon.success");S(i,"animate"),S(i.querySelector(".tip"),"animateSuccessTip"),S(i.querySelector(".long"),"animateSuccessLong");var n=o.querySelector(".icon.error");S(n,"animateErrorIcon"),S(n.querySelector(".x-mark"),"animateXMark");var r=o.querySelector(".icon.warning");S(r,"pulseWarning"),S(r.querySelector(".body"),"pulseWarningIns"),S(r.querySelector(".dot"),"pulseWarningIns"),e.onkeydown=p,t.onclick=h,u&&u.focus(),m=void 0,clearTimeout(o.timeout)}function d(){var e=y();e.style.marginTop=E(y())}var u,h,p,m,f=".sweet-alert",g=".sweet-overlay",v=["error","warning","info","success"],b={title:"",text:"",type:null,allowOutsideClick:!1,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null},y=function(){return t.querySelector(f)},w=function(){return t.querySelector(g)},x=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},k=function(e,t){x(e,t)||(e.className+=" "+t)},S=function(e,t){var o=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(x(e,t)){for(;o.indexOf(" "+t+" ")>=0;)o=o.replace(" "+t+" "," ");e.className=o.replace(/^\s+|\s+$/g,"")}},T=function(e){var o=t.createElement("div");return o.appendChild(t.createTextNode(e)),o.innerHTML},M=function(e){e.style.opacity="",e.style.display="block"},C=function(e){if(e&&!e.length)return M(e);for(var t=0;t<e.length;++t)M(e[t])},z=function(e){e.style.opacity="",e.style.display="none"},L=function(e){if(e&&!e.length)return z(e);for(var t=0;t<e.length;++t)z(e[t])},O=function(e,t){for(var o=t.parentNode;null!==o;){if(o===e)return!0;o=o.parentNode}return!1},E=function(e){e.style.left="-9999px",e.style.display="block";var t,o=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt(o/2+t)+"px"},I=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var o=+new Date,i=function(){e.style.opacity=+e.style.opacity+(new Date-o)/100,o=+new Date,+e.style.opacity<1&&setTimeout(i,t)};i()}e.style.display="block"},D=function(e,t){t=t||16,e.style.opacity=1;var o=+new Date,i=function(){e.style.opacity=+e.style.opacity-(new Date-o)/100,o=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"};i()},A=function(o){if(MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});o.dispatchEvent(i)}else if(t.createEvent){var n=t.createEvent("MouseEvents");n.initEvent("click",!1,!1),o.dispatchEvent(n)}else t.createEventObject?o.fireEvent("onclick"):"function"==typeof o.onclick&&o.onclick()},F=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};e.sweetAlertInitialize=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',o=t.createElement("div");o.innerHTML=e,t.body.appendChild(o)},e.sweetAlert=e.swal=function(){var e=arguments;if(null!==y())o.apply(this,e);else var t=setInterval(function(){null!==y()&&(clearInterval(t),o.apply(this,e))},100)},e.swal.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");r(b,e)},function(){"complete"===t.readyState||"interactive"===t.readyState&&t.body?e.sweetAlertInitialize():t.addEventListener?t.addEventListener("DOMContentLoaded",function(){t.removeEventListener("DOMContentLoaded",arguments.callee,!1),e.sweetAlertInitialize()},!1):t.attachEvent&&t.attachEvent("onreadystatechange",function(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",arguments.callee),e.sweetAlertInitialize())})}()}(window,document),function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function o(t){if(t.minTime&&(t.minTime=y(t.minTime)),t.maxTime&&(t.maxTime=y(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=y(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(y(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var o=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(y(o),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var i in t.disableTimeRanges)t.disableTimeRanges[i]=[y(t.disableTimeRanges[i][0]),y(t.disableTimeRanges[i][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var i=t.disableTimeRanges.length-1;i>0;i--)t.disableTimeRanges[i][0]<=t.disableTimeRanges[i-1][1]&&(t.disableTimeRanges[i-1]=[Math.min(t.disableTimeRanges[i][0],t.disableTimeRanges[i-1][0]),Math.max(t.disableTimeRanges[i][1],t.disableTimeRanges[i-1][1])],t.disableTimeRanges.splice(i,1))}return t}function i(t){var o=t.data("timepicker-settings"),i=t.data("timepicker-list");if(i&&i.length&&(i.remove(),t.data("timepicker-list",!1)),o.useSelect){i=e("<select />",{"class":"ui-timepicker-select"});var s=i}else{i=e("<ul />",{"class":"ui-timepicker-list"});var s=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});s.css({display:"none",position:"absolute"}).append(i)}if(o.noneOption)if(o.noneOption===!0&&(o.noneOption=o.useSelect?"Time...":"None"),e.isArray(o.noneOption)){for(var a in o.noneOption)if(parseInt(a,10)==a){var c=n(o.noneOption[a],o.useSelect);i.append(c)}}else{var c=n(o.noneOption,o.useSelect);i.append(c)}if(o.className&&s.addClass(o.className),(null!==o.minTime||null!==o.durationTime)&&o.showDuration){"function"==typeof o.step?"function":o.step;s.addClass("ui-timepicker-with-duration"),s.addClass("ui-timepicker-step-"+o.step)}var u=o.minTime;"function"==typeof o.durationTime?u=y(o.durationTime()):null!==o.durationTime&&(u=o.durationTime);var h=null!==o.minTime?o.minTime:0,m=null!==o.maxTime?o.maxTime:h+x-1;h>m&&(m+=x),m===x-1&&"string"===e.type(o.timeFormat)&&o.show2400&&(m=x);var f=o.disableTimeRanges,w=0,k=f.length,T=o.step;"function"!=typeof T&&(T=function(){return o.step});for(var a=h,M=0;m>=a;M++,a+=60*T(M)){var C=a,z=b(C,o);if(o.useSelect){var L=e("<option />",{value:z});L.text(z)}else{var L=e("<li />");L.addClass(43200>C%86400?"ui-timepicker-am":"ui-timepicker-pm"),L.data("time",86400>=C?C:C%86400),L.text(z)}if((null!==o.minTime||null!==o.durationTime)&&o.showDuration){var O=v(a-u,o.step);if(o.useSelect)L.text(L.text()+" ("+O+")");else{var E=e("<span />",{"class":"ui-timepicker-duration"});E.text(" ("+O+")"),L.append(E)}}k>w&&(C>=f[w][1]&&(w+=1),f[w]&&C>=f[w][0]&&C<f[w][1]&&(o.useSelect?L.prop("disabled",!0):L.addClass("ui-timepicker-disabled"))),i.append(L)}if(s.data("timepicker-input",t),t.data("timepicker-list",s),o.useSelect)t.val()&&i.val(r(y(t.val()),o)),i.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),i.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),i.on("change",function(){p(t,e(this).val(),"select")}),p(t,i.val(),"initial"),t.hide().after(i);else{var I=o.appendTo;"string"==typeof I?I=e(I):"function"==typeof I&&(I=I(t)),I.append(s),d(t,i),i.on("mousedown","li",function(o){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",S.show)}),l(t)||t[0].focus(),i.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),i.on("mouseup.timepicker","li",function(e){i.off("mouseup.timepicker"),s.hide()}))})}}function n(t,o){var i,n,r;return"object"==typeof t?(i=t.label,n=t.className,r=t.value):"string"==typeof t?i=t:e.error("Invalid noneOption value"),o?e("<option />",{value:r,"class":n,text:i}):e("<li />",{"class":n,text:i}).data("time",r)}function r(e,t){return e=t.roundingFunction(e,t),null!==e?b(e,t):void 0}function s(){return new Date(1970,0,1,0,0,0)}function a(t){var o=e(t.target),i=o.closest(".ui-timepicker-input");0===i.length&&0===o.closest(".ui-timepicker-wrapper").length&&(S.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}function l(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function c(t,o,i){if(!i&&0!==i)return!1;var n=t.data("timepicker-settings"),r=!1,i=n.roundingFunction(i,n);return o.find("li").each(function(t,o){var n=e(o);if("number"==typeof n.data("time"))return n.data("time")==i?(r=n,!1):void 0}),r}function d(e,t){t.find("li").removeClass("ui-timepicker-selected");var o=y(h(e),e.data("timepicker-settings"));if(null!==o){var i=c(e,t,o);if(i){var n=i.offset().top-t.offset().top;(n+i.outerHeight()>t.outerHeight()||0>n)&&t.scrollTop(t.scrollTop()+i.position().top-i.outerHeight()),i.addClass("ui-timepicker-selected")}}}function u(t,o){if(""!==this.value&&"timepicker"!=o){var i=e(this);if(!i.is(":focus")||t&&"change"==t.type){var n=i.data("timepicker-settings"),r=y(this.value,n);if(null===r)return void i.trigger("timeFormatError");var s=!1;null!==n.minTime&&r<n.minTime?s=!0:null!==n.maxTime&&r>n.maxTime&&(s=!0),e.each(n.disableTimeRanges,function(){return r>=this[0]&&r<this[1]?(s=!0,!1):void 0}),n.forceRoundTime&&(r=n.roundingFunction(r,n));var a=b(r,n);s?p(i,a,"error")&&i.trigger("timeRangeError"):p(i,a)}}}function h(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function p(e,t,o){if(e.is("input")){e.val(t);var i=e.data("timepicker-settings");i.useSelect&&"select"!=o&&"initial"!=o&&e.data("timepicker-list").val(r(y(t),i))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==o?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=o&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function m(o){var i=e(this),n=i.data("timepicker-list");if(!n||!t(n)){if(40!=o.keyCode)return!0;S.show.call(i.get(0)),n=i.data("timepicker-list"),l(i)||i.focus()}switch(o.keyCode){case 13:return g(i)&&S.hide.apply(this),o.preventDefault(),!1;case 38:var r=n.find(".ui-timepicker-selected");return r.length?r.is(":first-child")||(r.removeClass("ui-timepicker-selected"),r.prev().addClass("ui-timepicker-selected"),r.prev().position().top<r.outerHeight()&&n.scrollTop(n.scrollTop()-r.outerHeight())):(n.find("li").each(function(t,o){return e(o).position().top>0?(r=e(o),!1):void 0}),r.addClass("ui-timepicker-selected")),!1;case 40:return r=n.find(".ui-timepicker-selected"),0===r.length?(n.find("li").each(function(t,o){return e(o).position().top>0?(r=e(o),!1):void 0}),r.addClass("ui-timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-timepicker-selected"),r.next().addClass("ui-timepicker-selected"),r.next().position().top+2*r.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+r.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),S.hide();break;case 9:S.hide();break;default:return!0}}function f(o){var i=e(this),n=i.data("timepicker-list"),r=i.data("timepicker-settings");if(!n||!t(n)||r.disableTextInput)return!0;switch(o.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:r.typeaheadHighlight?d(i,n):n.hide()}}function g(e){var t=e.data("timepicker-settings"),o=e.data("timepicker-list"),i=null,n=o.find(".ui-timepicker-selected");return n.hasClass("ui-timepicker-disabled")?!1:(n.length&&(i=n.data("time")),null!==i&&("string"!=typeof i&&(i=b(i,t)),p(e,i,"select")),!0)}function v(e,t){e=Math.abs(e);var o,i,n=Math.round(e/60),r=[];return 60>n?r=[n,k.mins]:(o=Math.floor(n/60),i=n%60,30==t&&30==i&&(o+=k.decimal+5),r.push(o),r.push(1==o?k.hr:k.hrs),30!=t&&i&&(r.push(i),r.push(k.mins))),r.join(" ")}function b(t,o){if(null===t)return null;var i=new Date(w.valueOf()+1e3*t);if(isNaN(i.getTime()))return null;if("function"===e.type(o.timeFormat))return o.timeFormat(i);for(var n,r,s="",a=0;a<o.timeFormat.length;a++)switch(r=o.timeFormat.charAt(a)){case"a":s+=i.getHours()>11?k.pm:k.am;break;case"A":s+=i.getHours()>11?k.PM:k.AM;break;case"g":n=i.getHours()%12,s+=0===n?"12":n;break;case"G":n=i.getHours(),t===x&&(n=24),s+=n;break;case"h":n=i.getHours()%12,0!==n&&10>n&&(n="0"+n),s+=0===n?"12":n;break;case"H":n=i.getHours(),t===x&&(n=o.show2400?24:0),s+=n>9?n:"0"+n;break;case"i":var l=i.getMinutes();s+=l>9?l:"0"+l;break;case"s":t=i.getSeconds(),s+=t>9?t:"0"+t;break;case"\\":a++,s+=o.timeFormat.charAt(a);break;default:s+=r}return s}function y(e,t){if(""===e)return null;if(!e||e+0==e)return e;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();e=e.toLowerCase().replace(/[\s\.]/g,""),"a"!=e.slice(-1)&&"p"!=e.slice(-1)||(e+="m");var o="("+k.am.replace(".","")+"|"+k.pm.replace(".","")+"|"+k.AM.replace(".","")+"|"+k.PM.replace(".","")+")?",i=new RegExp("^"+o+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+o+"$"),n=e.match(i);if(!n)return null;var r=parseInt(1*n[2],10),s=r>24?r%24:r,a=n[1]||n[5],l=s;if(12>=s&&a){var c=a==k.pm||a==k.PM;l=12==s?c?12:0:s+(c?12:0)}var d=1*n[3]||0,u=1*n[4]||0,h=3600*l+60*d+u;if(12>s&&!a&&t&&t._twelveHourTime&&t.scrollDefault){var p=h-t.scrollDefault();0>p&&p>=x/-2&&(h=(h+x/2)%x)}return h}var w=s(),x=86400,k={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},S={init:function(t){return this.each(function(){var n=e(this),r=[];for(var s in e.fn.timepicker.defaults)n.data(s)&&(r[s]=n.data(s));var a=e.extend({},e.fn.timepicker.defaults,r,t);if(a.lang&&(k=e.extend(k,a.lang)),a=o(a),n.data("timepicker-settings",a),n.addClass("ui-timepicker-input"),a.useSelect)i(n);else{if(n.prop("autocomplete","off"),a.showOn)for(var l in a.showOn)n.on(a.showOn[l]+".timepicker",S.show);n.on("change.timepicker",u),n.on("keydown.timepicker",m),n.on("keyup.timepicker",f),a.disableTextInput&&n.on("keydown.timepicker",function(e){e.preventDefault()}),u.call(n.get(0))}})},show:function(o){var n=e(this),r=n.data("timepicker-settings");if(o&&o.preventDefault(),r.useSelect)return void n.data("timepicker-list").focus();l(n)&&n.blur();var s=n.data("timepicker-list");if(!n.prop("readonly")&&(s&&0!==s.length&&"function"!=typeof r.durationTime||(i(n),s=n.data("timepicker-list")),!t(s))){n.data("ui-timepicker-value",n.val()),d(n,s),S.hide(),s.show();var u={};r.orientation.match(/r/)?u.left=n.offset().left+n.outerWidth()-s.outerWidth()+parseInt(s.css("marginLeft").replace("px",""),10):u.left=n.offset().left+parseInt(s.css("marginLeft").replace("px",""),10);var p;p=r.orientation.match(/t/)?"t":r.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+s.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b","t"==p?(s.addClass("ui-timepicker-positioned-top"),u.top=n.offset().top-s.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)):(s.removeClass("ui-timepicker-positioned-top"),u.top=n.offset().top+n.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)),s.offset(u);var m=s.find(".ui-timepicker-selected");if(!m.length){var f=y(h(n));null!==f?m=c(n,s,f):r.scrollDefault&&(m=c(n,s,r.scrollDefault()))}if(m&&m.length){var g=s.scrollTop()+m.position().top-m.outerHeight();s.scrollTop(g)}else s.scrollTop(0);return r.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var o=e(this).scrollTop();e(this).scrollTop(o+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",a),e(window).on("resize.ui-timepicker",a),r.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",a),n.trigger("showTimepicker"),this}},hide:function(o){var i=e(this),n=i.data("timepicker-settings");return n&&n.useSelect&&i.blur(),e(".ui-timepicker-wrapper").each(function(){var o=e(this);if(t(o)){var i=o.data("timepicker-input"),n=i.data("timepicker-settings");n&&n.selectOnBlur&&g(i),o.hide(),i.trigger("hideTimepicker")}}),this},option:function(t,n){return this.each(function(){var r=e(this),s=r.data("timepicker-settings"),a=r.data("timepicker-list");if("object"==typeof t)s=e.extend(s,t);else if("string"==typeof t&&"undefined"!=typeof n)s[t]=n;else if("string"==typeof t)return s[t];s=o(s),r.data("timepicker-settings",s),a&&(a.remove(),r.data("timepicker-list",!1)),s.useSelect&&i(r)})},getSecondsFromMidnight:function(){return y(h(this))},getTime:function(e){var t=this,o=h(t);if(!o)return null;var i=y(o);if(null===i)return null;e||(e=w);var n=new Date(e);return n.setHours(i/3600),n.setMinutes(i%3600/60),n.setSeconds(i%60),n.setMilliseconds(0),n},setTime:function(e){var t=this,o=t.data("timepicker-settings");if(o.forceRoundTime)var i=r(y(e),o);else var i=b(y(e),o);return e&&null===i&&o.noneOption&&(i=e),p(t,i),t.data("timepicker-list")&&d(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?S[t]?this.hasClass("ui-timepicker-input")?S[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):S.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var o=e%(60*t.step);return o>=30*t.step?e+=60*t.step-o:e-=o,e},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1}});var DateFormat={};!function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;e.format=function(){function e(e){return t[parseInt(e,10)]||e}function a(e){return o[parseInt(e,10)]||e}function l(e){var t=parseInt(e,10)-1;return i[t]||e}function c(e){var t=parseInt(e,10)-1;return n[t]||e}function d(e){return r[e]||e}function u(e){var t,o,i,n,r,s=e,a="";return-1!==s.indexOf(".")&&(n=s.split("."),s=n[0],a=n[n.length-1]),r=s.split(":"),3===r.length?(t=r[0],o=r[1],i=r[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),s=s.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:s,hour:t,minute:o,second:i,millis:a}):{time:"",hour:"",minute:"",second:"",millis:""}}function h(e,t){for(var o=t-String(e).length,i=0;o>i;i++)e="0"+e;return e}return{parseDate:function(e){var t,o,i={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)i.year=String(e.getFullYear()),i.month=String(e.getMonth()+1),i.dayOfMonth=String(e.getDate()),i.time=u(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(s))t=e.split(/[T\+-]/),i.year=t[0],i.month=t[1],i.dayOfMonth=t[2],i.time=u(t[3].split(".")[0]);else switch(t=e.split(" "),6===t.length&&isNaN(t[5])&&(t[t.length]="()"),t.length){case 6:i.year=t[5],i.month=d(t[1]),i.dayOfMonth=t[2],i.time=u(t[3]);break;case 2:o=t[0].split("-"),i.year=o[0],i.month=o[1],i.dayOfMonth=o[2],i.time=u(t[1]);break;case 7:case 9:case 10:i.year=t[3],i.month=d(t[1]),i.dayOfMonth=t[2],i.time=u(t[4]);break;case 1:o=t[0].split(""),i.year=o[0]+o[1]+o[2]+o[3],i.month=o[5]+o[6],i.dayOfMonth=o[8]+o[9],i.time=u(o[13]+o[14]+o[15]+o[16]+o[17]+o[18]+o[19]+o[20]);break;default:return null}return i.date=i.time?new Date(i.year,i.month-1,i.dayOfMonth,i.time.hour,i.time.minute,i.time.second,i.time.millis):new Date(i.year,i.month-1,i.dayOfMonth),i.dayOfWeek=String(i.date.getDay()),i},date:function(t,o){try{var i=this.parseDate(t);if(null===i)return t;for(var n,r=i.year,s=i.month,d=i.dayOfMonth,u=i.dayOfWeek,p=i.time,m="",f="",g="",v=!1,b=0;b<o.length;b++){var y=o.charAt(b),w=o.charAt(b+1);if(v)"'"==y?(f+=""===m?"'":m,m="",v=!1):m+=y;else switch(m+=y,g="",m){case"ddd":
f+=e(u),m="";break;case"dd":if("d"===w)break;f+=h(d,2),m="";break;case"d":if("d"===w)break;f+=parseInt(d,10),m="";break;case"D":d=1==d||21==d||31==d?parseInt(d,10)+"st":2==d||22==d?parseInt(d,10)+"nd":3==d||23==d?parseInt(d,10)+"rd":parseInt(d,10)+"th",f+=d,m="";break;case"MMMM":f+=c(s),m="";break;case"MMM":if("M"===w)break;f+=l(s),m="";break;case"MM":if("M"===w)break;f+=h(s,2),m="";break;case"M":if("M"===w)break;f+=parseInt(s,10),m="";break;case"y":case"yyy":if("y"===w)break;f+=m,m="";break;case"yy":if("y"===w)break;f+=String(r).slice(-2),m="";break;case"yyyy":f+=r,m="";break;case"HH":f+=h(p.hour,2),m="";break;case"H":if("H"===w)break;f+=parseInt(p.hour,10),m="";break;case"hh":n=0===parseInt(p.hour,10)?12:p.hour<13?p.hour:p.hour-12,f+=h(n,2),m="";break;case"h":if("h"===w)break;n=0===parseInt(p.hour,10)?12:p.hour<13?p.hour:p.hour-12,f+=parseInt(n,10),m="";break;case"mm":f+=h(p.minute,2),m="";break;case"m":if("m"===w)break;f+=p.minute,m="";break;case"ss":f+=h(p.second.substring(0,2),2),m="";break;case"s":if("s"===w)break;f+=p.second,m="";break;case"S":case"SS":if("S"===w)break;f+=m,m="";break;case"SSS":var x="000"+p.millis.substring(0,3);f+=x.substring(x.length-3),m="";break;case"a":f+=p.hour>=12?"PM":"AM",m="";break;case"p":f+=p.hour>=12?"p.m.":"a.m.",m="";break;case"E":f+=a(u),m="";break;case"'":m="",v=!0;break;default:f+=y,m=""}}return f+=g}catch(k){return console&&console.log&&void 0,t}},prettyDate:function(e){var t,o,i;return("string"==typeof e||"number"==typeof e)&&(t=new Date(e)),"object"==typeof e&&(t=new Date(e.toString())),o=((new Date).getTime()-t.getTime())/1e3,i=Math.floor(o/86400),isNaN(i)||0>i?void 0:60>o?"just now":120>o?"1 minute ago":3600>o?Math.floor(o/60)+" minutes ago":7200>o?"1 hour ago":86400>o?Math.floor(o/3600)+" hours ago":1===i?"Yesterday":7>i?i+" days ago":31>i?Math.ceil(i/7)+" weeks ago":i>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(e){e.format=DateFormat.format}(jQuery);